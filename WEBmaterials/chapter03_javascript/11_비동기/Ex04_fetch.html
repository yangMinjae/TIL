<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
</body>
<script>
  /*
    fetch()
    - 서버와 비동기로 데이터를 주고 받는 기술로
      ajax, axios와 같은 외부 라이브러리가 아닌 브라우저 자체함수.
    - window 객체의 프로퍼티로, window.fetch()로 사용 가능
    - 다양한 데이터 형식을 지원하지만, 기본적으로 JSON 형식의 데이터를 주고
      받을 때에 가장 쉽게 사용 가능

    형식 
    * url : 요청할 경로
    * options : 요청방식, 헤더, 내용 등 설정
    fetch(url, options)
      .then()
      .then()
      .catch()
  */

  fetch('https://jsonplaceholder.typicode.com/posts',{
    method : 'POST',
    body : JSON.stringify({
      // javaScript 객체를 json문자열로 변환하는 메서드
      title : 'foo',
      body : 'bar',
      userId : 1
    }),
    headers : {
      'Content-type' : 'application/json; charset=utf-8'
    }
  })
  .then(response => response.json())
  // json()함수는 promise 반환
  // json데이터를 javaScript 객체로 변환하여 반환
  .then(json =>{
    console.log(json);
    console.log('---');
    
  });
  // fetch는 promise 리턴

  async function send(){
    let response = await fetch('https://jsonplaceholder.typicode.com/posts/1');
    // json 데이터 반환
    let json = await response.json();
    // json 데이터를 js 객체로 변환
    console.log(json);
  }
  send();
</script>
</html>