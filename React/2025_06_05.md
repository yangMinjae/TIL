# 2025/06/05
## 1. useState (Hook)

### 1) ê¸°ë³¸ ì‚¬ìš©ë²•

```js
[name(ë³€ìˆ˜ëª…), setName(í•¨ìˆ˜ëª…)] = useState(ì´ˆê¸°ê°’);
```

#### ì˜ˆì œ 1
```jsx
const InputTest = () => {
  const [text, setText] = useState('');
  const handleChangeText = (e) => {
    setText(e.target.value);
  };
  const handleReset = () => {
    setText('');
  };
  return (
    <div>
      <input
        type="text"
        onChange={handleChangeText}
        value={text}
      />
      <button onClick={handleReset}>ì´ˆê¸°í™”</button>
      <div>
        <b>ê°’ : {text}</b>
      </div>
    </div>
  );
};
```

- inputì˜ valueë„ `{text}`ë¡œ ì§€ì •í•´ ì£¼ë©´ ì´ˆê¸°í™” ì‹œ ê°™ì´ ì—°ë™ë¼ì„œ ì´ˆê¸°í™”ë¨

#### ì˜ˆì œ 2
```jsx
const FormTest = () => {
  const [name, setName] = useState('');
  const [age, setAge] = useState('');
  const [email, setEmail] = useState('');
  const clearData = () => {
    setName('');
    setAge('');
    setEmail('');
  };
  return (
    <div>
      <form>
        ì´ë¦„
        <br />
        <input type="text" name="name" onChange={(e) => setName(e.target.value)} value={name} />
        <br />
        ë‚˜ì´
        <br />
        <input type="number" name="age" onChange={(e) => setAge(e.target.value)} value={age} />
        <br />
        ì´ë©”ì¼
        <br />
        <input type="email" name="email" onChange={(e) => setEmail(e.target.value)} value={email} />
        <br />
        <button onClick={clearData}>Click!</button>
      </form>

      <div>ì´ë¦„ : {name}</div>
      <div>ë‚˜ì´ : {age}</div>
      <div>ì´ë©”ì¼ : {email}</div>
    </div>
  );
};
```

- `onChange`ë¡œ ì •ë³´ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë‚´ë¶€ stateì— ì €ì¥í•˜ê³ , ë²„íŠ¼ í´ë¦­ ë“±ì˜ ì´ë²¤íŠ¸ ì‹œ ì €ì¥ëœ stateë¥¼ í‘œì‹œí•¨

### 2) ë‹¤ì¤‘ state í•œë²ˆì— ê´€ë¦¬ë²•

- **ê°ì²´ë¥¼ ì´ìš©í•˜ì—¬ í•œ ë²ˆì— ê´€ë¦¬**
- ê¸°ì¡´ ë°©ì‹:
```js
const [name, setName] = useState('');
const [age, setAge] = useState('');
const [email, setEmail] = useState('');
```

- ê°œì„ ëœ ë°©ì‹:
```js
const [user, setUser] = useState({
  name: '',
  age: '',
  email: '',
});

const handleInputChange = (e) => {
  const name = e.target.name;
  const value = e.target.value;
  setUser({
    ...user,
    [name]: value,
  });
};
```

#### ë³´ì¶© ì„¤ëª…
- `...user` : ê¸°ì¡´ ì†ì„± ìœ ì§€
- `[name]: value` : ë³€ê²½í•  í•­ëª©ë§Œ ë®ì–´ì”€
- ReactëŠ” ê°ì²´ì˜ ì°¸ì¡°ê°€ ë³€ê²½ë˜ì—ˆëŠ”ì§€ë¡œ ë Œë”ë§ì„ ê°ì§€í•˜ë¯€ë¡œ ì´ ë°©ë²•ì´ ì ì ˆí•¨

### 3) radio ë²„íŠ¼ê³¼ selectì˜ ì´ˆê¸°í™” ë°©ë²•

#### radio ë²„íŠ¼
```jsx
ë‚¨ <input type="radio" value="ë‚¨ì" name="gender" onChange={handleInputChange} checked={user.gender === 'ë‚¨ì'} />
ì—¬ <input type="radio" value="ì—¬ì" name="gender" onChange={handleInputChange} checked={user.gender === 'ì—¬ì'} />
```

#### select ë°•ìŠ¤
```jsx
<select name="addr" onChange={handleInputChange} value={user.addr}>
  <option value="ê°•ë‚¨">ê°•ë‚¨</option>
  <option value="ê°•ì„œ">ê°•ì„œ</option>
  <option value="ê°•ë™">ê°•ë™</option>
  <option value="ê°•ë¶">ê°•ë¶</option>
</select>
```
## 2. useEffect (Hook)

- ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ë  ë•Œë§ˆë‹¤ íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ í•˜ëŠ” Hook
- í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ ë³´ì¡° ì‘ì—… ìˆ˜í–‰ ê°€ëŠ¥
- ì»´í¬ë„ŒíŠ¸ê°€ mount, unmount, update ë˜ì—ˆì„ ë•Œ ì‹¤í–‰

### ì‚¬ìš© ì˜ˆ

```jsx
useEffect(() => {
  console.log('ë Œë”ë§ ì™„ë£Œ');
}, []);
```

- ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ ë¹ˆ ë°°ì—´([])ì„ ì£¼ë©´ **ì´ˆê¸° ë Œë”ë§ 1íšŒë§Œ ì‹¤í–‰**
- ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ê°€ ì—†ìœ¼ë©´ **í•­ìƒ ì‹¤í–‰ (ë Œë”ë§ë§ˆë‹¤)**

```jsx
useEffect(() => {
  console.log('ë Œë”ë§ ì™„ë£Œ');
}, [count]);
```

- `count` ê°’ì´ ë°”ë€” ë•Œë§Œ ì‹¤í–‰ë¨

```jsx
useEffect(() => {
  const timer = setInterval(() => {
    console.log('Tick');
  }, 1000);

  return () => {
    clearInterval(timer); // âœ… í•´ì œ
  };
}, []);
```

- ìœ„ì™€ ê°™ì´ `return` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œ ë¶€ë¶„ì€ **cleanup í•¨ìˆ˜** ë˜ëŠ” **ì •ë¦¬ í•¨ìˆ˜**
- ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ë˜ëŠ” `effect`ê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ê¸° ì§ì „ì— ì‹¤í–‰ë¨
- ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ë¥¼ ìœ„í•œ ë¦¬ì†ŒìŠ¤ ì •ë¦¬ ëª©ì 

---

## 3. useRef (Hook)

### ì˜ˆì œ

```jsx
const RefTest = () => {
  const [text, setText] = useState('');
  const textInput = useRef();
  const handleChangeInput = (e) => {
    setText(e.target.value);
  };
  const reset = () => {
    setText('');
    textInput.current.focus();
  };
  return (
    <div>
      <input
        type="text"
        value={text}
        onChange={handleChangeInput}
        ref={textInput}
      />
      <button onClick={reset}>reset</button>
    </div>
  );
};
```

- ìœ„ ì˜ˆì œì²˜ëŸ¼ `useRef`ë¥¼ í†µí•´ DOM ìš”ì†Œì˜ ì°¸ì¡°ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŒ

### ë Œë”ë§ ì‹œ ì´ˆê¸°í™” ë°©ì§€

```jsx
const refValue = useRef(0);
let varValue = 0;

console.log('ë Œë”ë§ í›„ refValue : ', refValue.current);
console.log('ë Œë”ë§ í›„ varValue : ', varValue);

useEffect(() => {
  refValue.current++;
  varValue++;
});
```

- `refValue.current`ëŠ” ë Œë”ë§ë§ˆë‹¤ ê°’ ì¦ê°€
- `varValue`ëŠ” í•­ìƒ 0ìœ¼ë¡œ ì´ˆê¸°í™”ë¨

---

## 4. useReducer (Hook)

- `useState()`ì™€ ìœ ì‚¬í•˜ê²Œ stateë¥¼ ê´€ë¦¬í•˜ì§€ë§Œ **ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬ì— ìœ ë¦¬**
- dispatchë¥¼ í†µí•´ ì™¸ë¶€ reducer í•¨ìˆ˜ë¡œ ìƒíƒœ ë³€ê²½ ê°€ëŠ¥

### ê¸°ë³¸ ì‚¬ìš© êµ¬ì¡°

```js
const [state, dispatch] = useReducer(reducer, initialState, init);
```

#### ê° ì¸ìì˜ ì˜ë¯¸

- **dispatch**
  - ì²« ë²ˆì§¸ ì¸ìì¸ `reducer` í•¨ìˆ˜ ì‹¤í–‰
  - ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•´ ì‚¬ìš©
- **reducer í•¨ìˆ˜**
  - ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì— ì •ì˜ë˜ë©°, ìƒíƒœ(state)ì™€ ì•¡ì…˜(action)ì„ ë°›ì•„ ìƒˆ ìƒíƒœ ë°˜í™˜
- **initialState**
  - ìƒíƒœì˜ ì´ˆê¸°ê°’
- **init**
  - ì´ˆê¸° ìƒíƒœë¥¼ ê³„ì‚°í•˜ì—¬ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ (ë³µì¡í•œ ì´ˆê¸°í™” ë¡œì§ì¼ ë•Œ ìœ ìš©)

### ì‚¬ìš© ì˜ˆ:

```jsx
const reducer = (state, action) =>{
  switch(action.type){
    case 'INCREASE' :
      return {count : state.count + action.payload};
    default :
      throw new Error('unsupported action type : ', action.type);
  }
}
const ReducerTest = () => {
  const initialState = {count:0};
  const [state, dispatch] = useReducer(reducer, initialState)
  return (
    <div>
      <p>count : {state.count}</p>
      <button onClick={()=> dispatch({type:'INCREASE', payload : 1})}>ì¦ê°€</button>
    </div>
  );
};
```
- dispatch({})
  - type : ëª…ë ¹ì˜ ì¢…ë¥˜
  - payload : ì¦ê°€/ê°ì†ŒëŸ‰

- reducer(state, action)
  - action : 
    - action.type : dispatchì˜ ì¸ìë¡œ ë°›ì•„ì˜¨ ìƒìˆ˜ê°’(ë™ì‘ ì¢…ë¥˜)
    - action.payload : dispatchì˜ ì¸ìë¡œ ë°›ì•„ì˜¨ ìƒìˆ˜ê°’(ì¦ê°€ ê°’)
  - case ë¦¬í„´ ë¶€ : initialStateê°€ ê°ì²´ì´ë¯€ë¡œ, ë¦¬í„´ë˜ëŠ” ê°’ ì—­ì‹œ ê°ì²´ë¡œ í˜•íƒœ ë§ì¶° ì¤€ë‹¤.

# 5. useMemo (Hook)
- ì»´í¬ë„ŒíŠ¸ì˜ ì„±ëŠ¥ì„ ìµœì í™” í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” Hook  
- ì“¸ë°ì—†ëŠ” ë¦¬ë Œë”ë§ ë°©ì§€  

## ğŸ” ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ ì¡°ê±´
- ë¶€ëª¨ì—ê²Œ ì „ë‹¬ë°›ì€ propsê°€ ë³€ê²½ë  ë•Œ
- ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ ë  ë•Œ
- ìì‹ ì˜ stateê°€ ë³€ê²½ë  ë•Œ
- shouldComponentUpdateì—ì„œ trueê°€ ë°˜í™˜ë  ë•Œ
- forceUpdateê°€ ì‹¤í–‰ë  ë•Œ

## ğŸ”„ ë¦¬ë Œë”ë§ ì˜ˆì‹œ
```jsx
function Multiply({num1, num2}){

  const result = () =>{
    console.log('Calculationg...');
    return num1 * num2;
  }

  return (
    <div>
      <p>ì²« ë²ˆì§¸ ìˆ«ì : {num1}</p>
      <p>ë‘ ë²ˆì§¸ ìˆ«ì : {num2}</p>
      <p>ë‘ ìˆ«ìì˜ ê³± : {result()}</p>
    </div>
  )
}

const MemoTest = () => {
  const handleInputChange = (e)=>{
    const {name, value} = e.target;
    switch (name) {
      case 'number1':
        setNumber1(value);
        break;
      case 'number2':
        setNumber2(value);
        break;
      case 'count' :
        setCount(prev=>prev+Number(value));
        break;
      default :
        break;
    }
  }
  const [number1, setNumber1] = useState(5);
  const [number2, setNumber2] = useState(3);
  const [count, setCount] = useState(0);
  return (
    <div>
      <input 
        type='number'
        name='number1'
        value={number1}
        onChange={handleInputChange}/>
      <input 
        type='number'
        name='number2'
        value={number2}
        onChange={handleInputChange}/>
      <br/><br/>
      <Multiply num1={number1} num2={number2}/>
      <br/><br/>
      <span>{count}</span><br/>
      <button name='count' onClick={handleInputChange} value={1}>ì¦ê°€</button>
      <button name='count' onClick={handleInputChange} value={-1}>ê°ì†Œ</button>
    </div>
  );
};
```

- ë¶€ëª¨ì—ì„œ ë˜ì ¸ì£¼ëŠ” number1, number2 ê°’ì´ inputì—ì„œ ë°”ë€Œë©´ ìì‹ ì»´í¬ë„ŒíŠ¸ Multiplyê°€ ë¦¬ë Œë”ë§ëœë‹¤.  
- ë¬¸ì œëŠ” countê°’ì´ ë°”ë€Œì–´ë„ Multiplyê°€ ë¦¬ë Œë”ë§ì´ ì¼ì–´ë‚¨.  
- ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ê²ƒì´ **useMemo**

## âœ… useMemo ì˜ˆì‹œ
```jsx
function Multiply({num1, num2}){

  const result = useMemo(()=>{
    console.log('Calculationg...');
    return num1 * num2;
  },[num1, num2]);

  return (
    <div>
      <p>ì²« ë²ˆì§¸ ìˆ«ì : {num1}</p>
      <p>ë‘ ë²ˆì§¸ ìˆ«ì : {num2}</p>
      <p>ë‘ ìˆ«ìì˜ ê³± : {result}</p>
    </div>
  )
}
```

- ì´ì „ì˜ resultí•¨ìˆ˜ë¥¼ ìœ„ì™€ ê°™ì´ êµì²´.  
- ë‘ ë²ˆì§¸ ì¸ìì¸ `[num1, num2]`ëŠ” í•´ë‹¹ ê°’ë“¤ì´ ë³€ê²½ë  ë•Œë§Œ ë‹¤ì‹œ ê³„ì‚° ìˆ˜í–‰.  
- ì´ë ‡ê²Œ í•˜ë©´ **countê°€ ë°”ë€Œë”ë¼ë„ ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ì§€ ì•ŠìŒ.**

### ğŸ’¡ ì¶”ê°€ ë³´ì¶©: useMemoëŠ” ì–¸ì œ ì‚¬ìš©í• ê¹Œ?
- ê³„ì‚° ë¹„ìš©ì´ í° ì—°ì‚°ì´ ìˆì„ ë•Œ (ex. ì •ë ¬, í•„í„°ë§ ë“±)
- ë¦¬ë Œë”ë§ ì‹œ ì¬ê³„ì‚°ì„ í”¼í•˜ê³  ì‹¶ì€ ê²½ìš°
- ì˜ì¡´ì„±ì´ ë°”ë€Œì§€ ì•Šì•˜ë‹¤ë©´, ì´ì „ ê²°ê³¼ë¥¼ ì¬ì‚¬ìš©í•˜ê³  ì‹¶ì€ ê²½ìš°

---

# 6. customHook
- ê°œì¸ì˜ í•„ìš”ì— ì˜í•´ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•œ Hook

```jsx
function useInput(initialValue){
  const [value, setValue] = useState(initialValue);

  const handleChange = e => {
    setValue(e.target.value);
  }

  return {
    value,
    onChange: handleChange
  }
}

const HookTest = () => {

  const firstName = useInput('');
  const lastName = useInput('');

  console.log(firstName, lastName);

  return (
    <div>
      <input type="text" {...firstName}/>
      <input type="text" {...lastName}/>
      <p>Full Name : {firstName.value} {lastName.value}</p>
    </div>
  );
};
```

- ìœ„ì²˜ëŸ¼ ê°ì²´ë¥¼ ë¦¬í„´í•˜ë„ë¡ í•˜ê³ , íƒœê·¸ì˜ ì†ì„±ì˜ ì´ë¦„ê³¼ ë§ì¶°ì£¼ë©´ ìŠ¤í”„ë ˆë“œ ë¬¸ë²•ìœ¼ë¡œ í¸ë¦¬í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥
